<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>servicePage.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="BasePage.html">BasePage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BasePage.html#click">click</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BasePage.html#expectSoft">expectSoft</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BasePage.html#fill">fill</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BasePage.html#getCellMultiValue">getCellMultiValue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BasePage.html#getCellSingleValue">getCellSingleValue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BasePage.html#getTableFirstRow">getTableFirstRow</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BasePage.html#getText">getText</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BasePage.html#goto">goto</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BasePage.html#sendKey">sendKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="BasePage.html#waitForVisible">waitForVisible</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RoutePage.html">RoutePage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RoutePage.html#clickSaveRouteButton">clickSaveRouteButton</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RoutePage.html#fillRouteForm">fillRouteForm</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RoutePage.html#inputAMethod">inputAMethod</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RoutePage.html#seclectPostMethod">seclectPostMethod</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ServiceDetailPage.html">ServiceDetailPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServiceDetailPage.html#clickAddRouteButton">clickAddRouteButton</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServiceDetailPage.html#clickNewRouteButton">clickNewRouteButton</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServiceDetailPage.html#clickRouteTab">clickRouteTab</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServiceDetailPage.html#getCreatedAt">getCreatedAt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServiceDetailPage.html#getMethodColVal">getMethodColVal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServiceDetailPage.html#getNameColVal">getNameColVal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServiceDetailPage.html#getPathsColVal">getPathsColVal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServiceDetailPage.html#getRouteCellMultiVal">getRouteCellMultiVal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServiceDetailPage.html#getRouteCellSingVal">getRouteCellSingVal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServiceDetailPage.html#getServiceName">getServiceName</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServiceDetailPage.html#getUpdatedAt">getUpdatedAt</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ServicePage.html">ServicePage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServicePage.html#createService">createService</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServicePage.html#fillServiceForm">fillServiceForm</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">servicePage.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { logger } from '../utils/logger.js';
import { BasePage } from './basePage.js';

/**
 * ServicePage represents the service creation page in the application.
 * Provides methods to interact with the service form (fill, save, etc.).
 * Extends BasePage for common page operations.
 */
export class ServicePage extends BasePage {

    /**
     * @param {import('playwright').Page} page - The Playwright Page object.
     */
    constructor(page) {
        super(page);
        this.fullURLOption = page.getByTestId('gateway-protocol-radio-http'); //full url radio button
        this.custURLOption = page.getByTestId('gateway-service-url-radio');//cust url radio button
        this.fullURLInput = page.getByTestId('gateway-service-url-input');//url input in full url
        this.saveButton = page.getByTestId('service-create-form-submit');//save service button
        this.nameInput = page.getByTestId('gateway-service-name-input');//name input in full url
    }

    /**
     * Fill the service form.
     *
     * @param {{name?: string, url?: string}} data - Form data.
     * @returns {Promise&lt;void>} Resolves when the form is filled.
     */
    async fillServiceForm(data) {
        try {
            logger.info(`üöÄ filling the form ${data.name}`);
            if (data.name) this.fill(this.nameInput, data.name, 'Service Name');
            if (data.url) this.fill(this.fullURLInput, data.url, 'Service URL');
        } catch (error) {
            logger.error(`‚ùå Failed to fill the form: ${error}`);
            throw error;
        }
    }


    /**
     * Create a service.
     *
     * @param {{name?: string, url?: string}} data - Form data to fill the service form.
     * @returns {Promise&lt;import('playwright').APIResponse>} The HTTP response object for the created service.
     */
    async createService(data) {
        try {
            logger.info(`üöÄ Creating service`);
            await this.fillServiceForm(data);
            const [response] = await Promise.all([
                this.page.waitForResponse(r => r.url().includes('/services') &amp;&amp; r.status() === 201),
                this.saveButton.click()
            ]);
            await this.page.waitForURL(/\/services\/[a-z0-9-]+$/);

            logger.info(`‚úÖ Service created successfully: ${response.url()}`);
            return response;
        } catch (error) {
            logger.error(`‚ùå Failed to create service: ${error}`);
            throw error;
        }
    }

}
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.5</a> on Sat Nov 15 2025 14:21:14 GMT+0800 (China Standard Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
